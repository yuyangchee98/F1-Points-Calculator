export interface PointsSystem {
  id: string;
  name: string;
  description: string;
  regular: Record<number, number>;
  sprint?: Record<number, number>;
  fastestLap?: number;
  rules?: {
    fastestLapRequiresTop10?: boolean;
  };
}

export const POINTS_SYSTEMS: Record<string, PointsSystem> = {
  'current': {
    id: 'current',
    name: 'Current F1 (2010-present)',
    description: 'Standard F1 points system used since 2010',
    regular: {
      1: 25,
      2: 18,
      3: 15,
      4: 12,
      5: 10,
      6: 8,
      7: 6,
      8: 4,
      9: 2,
      10: 1,
      11: 0,
      12: 0,
      13: 0,
      14: 0,
      15: 0,
      16: 0,
      17: 0,
      18: 0,
      19: 0,
      20: 0,
    },
    sprint: {
      1: 8,
      2: 7,
      3: 6,
      4: 5,
      5: 4,
      6: 3,
      7: 2,
      8: 1,
      9: 0,
      10: 0,
      11: 0,
      12: 0,
      13: 0,
      14: 0,
      15: 0,
      16: 0,
      17: 0,
      18: 0,
      19: 0,
      20: 0,
    },
    fastestLap: 1,
    rules: {
      fastestLapRequiresTop10: true
    }
  },
  '2003-2009': {
    id: '2003-2009',
    name: '2003-2009 System',
    description: 'Points system used from 2003 to 2009',
    regular: {
      1: 10,
      2: 8,
      3: 6,
      4: 5,
      5: 4,
      6: 3,
      7: 2,
      8: 1,
      9: 0,
      10: 0,
      11: 0,
      12: 0,
      13: 0,
      14: 0,
      15: 0,
      16: 0,
      17: 0,
      18: 0,
      19: 0,
      20: 0,
    }
  },
  '1991-2002': {
    id: '1991-2002',
    name: '1991-2002 System',
    description: 'Points system used from 1991 to 2002',
    regular: {
      1: 10,
      2: 6,
      3: 4,
      4: 3,
      5: 2,
      6: 1,
      7: 0,
      8: 0,
      9: 0,
      10: 0,
      11: 0,
      12: 0,
      13: 0,
      14: 0,
      15: 0,
      16: 0,
      17: 0,
      18: 0,
      19: 0,
      20: 0,
    }
  },
  'linear': {
    id: 'linear',
    name: 'Linear System',
    description: 'Points decrease by 1 for each position',
    regular: {
      1: 20,
      2: 19,
      3: 18,
      4: 17,
      5: 16,
      6: 15,
      7: 14,
      8: 13,
      9: 12,
      10: 11,
      11: 10,
      12: 9,
      13: 8,
      14: 7,
      15: 6,
      16: 5,
      17: 4,
      18: 3,
      19: 2,
      20: 1,
    },
    sprint: {
      1: 10,
      2: 9,
      3: 8,
      4: 7,
      5: 6,
      6: 5,
      7: 4,
      8: 3,
      9: 2,
      10: 1,
      11: 0,
      12: 0,
      13: 0,
      14: 0,
      15: 0,
      16: 0,
      17: 0,
      18: 0,
      19: 0,
      20: 0,
    }
  },
  'winner-takes-all': {
    id: 'winner-takes-all',
    name: 'Winner Takes All',
    description: 'Only the winner receives points',
    regular: {
      1: 100,
      2: 0,
      3: 0,
      4: 0,
      5: 0,
      6: 0,
      7: 0,
      8: 0,
      9: 0,
      10: 0,
      11: 0,
      12: 0,
      13: 0,
      14: 0,
      15: 0,
      16: 0,
      17: 0,
      18: 0,
      19: 0,
      20: 0,
    },
    sprint: {
      1: 25,
      2: 0,
      3: 0,
      4: 0,
      5: 0,
      6: 0,
      7: 0,
      8: 0,
      9: 0,
      10: 0,
      11: 0,
      12: 0,
      13: 0,
      14: 0,
      15: 0,
      16: 0,
      17: 0,
      18: 0,
      19: 0,
      20: 0,
    }
  },
  'top-heavy': {
    id: 'top-heavy',
    name: 'Top Heavy',
    description: 'Heavily rewards top 3 positions',
    regular: {
      1: 50,
      2: 30,
      3: 20,
      4: 10,
      5: 8,
      6: 6,
      7: 4,
      8: 3,
      9: 2,
      10: 1,
      11: 0,
      12: 0,
      13: 0,
      14: 0,
      15: 0,
      16: 0,
      17: 0,
      18: 0,
      19: 0,
      20: 0,
    },
    sprint: {
      1: 20,
      2: 12,
      3: 8,
      4: 5,
      5: 3,
      6: 2,
      7: 1,
      8: 0,
      9: 0,
      10: 0,
      11: 0,
      12: 0,
      13: 0,
      14: 0,
      15: 0,
      16: 0,
      17: 0,
      18: 0,
      19: 0,
      20: 0,
    }
  }
};

export const getPointsForPositionWithSystem = (
  position: number, 
  isSprint: boolean, 
  systemId: string
): number => {
  const system = POINTS_SYSTEMS[systemId] || POINTS_SYSTEMS['current'];
  
  if (isSprint && system.sprint) {
    return system.sprint[position] || 0;
  }
  
  return system.regular[position] || 0;
};

export const DEFAULT_POINTS_SYSTEM = 'current';